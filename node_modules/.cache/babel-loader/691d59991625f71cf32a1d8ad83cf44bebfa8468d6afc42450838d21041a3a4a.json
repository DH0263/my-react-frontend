{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\uCEE4\\uC11C\\\\\\uC6F9\\uC0AC\\uC774\\uD2B8\\\\frontend\\\\src\\\\components\\\\Timetable.js\";\nimport React from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport { addDays, parse, set } from 'date-fns';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { ko } from 'date-fns/locale';\n\n// 요일 한글 → 숫자 변환\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dayMap = {\n  '월요일': 1,\n  '화요일': 2,\n  '수요일': 3,\n  '목요일': 4,\n  '금요일': 5,\n  '토요일': 6,\n  '일요일': 0\n};\nfunction parseTime(timeStr) {\n  // \"13:30\" → { hour: 13, minute: 30 }\n  const [hour, minute] = timeStr.split(\":\").map(Number);\n  return {\n    hour,\n    minute\n  };\n}\nfunction makeEvents(schedules) {\n  // 이번 주 월요일 기준\n  const now = new Date();\n  const monday = set(now, {\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n    milliseconds: 0\n  });\n  monday.setDate(now.getDate() - (now.getDay() + 6) % 7);\n  return schedules.map(item => {\n    const dayNum = dayMap[item.day_of_week];\n    const start = new Date(monday);\n    start.setDate(monday.getDate() + dayNum);\n    const {\n      hour: sh,\n      minute: sm\n    } = parseTime(item.start_time);\n    start.setHours(sh, sm, 0, 0);\n    const end = new Date(monday);\n    end.setDate(monday.getDate() + dayNum);\n    const {\n      hour: eh,\n      minute: em\n    } = parseTime(item.end_time);\n    end.setHours(eh, em, 0, 0);\n    return {\n      title: `${item.type} - ${item.student ? item.student.name : ''}`,\n      start,\n      end,\n      resource: item,\n      allDay: false\n    };\n  });\n}\nconst localizer = momentLocalizer(require('moment'));\nfunction getMinMaxTime(events) {\n  if (events.length === 0) {\n    return {\n      min: new Date(1970, 1, 1, 8, 0),\n      max: new Date(1970, 1, 1, 23, 0)\n    };\n  }\n  let minHour = 23,\n    minMinute = 59,\n    maxHour = 0,\n    maxMinute = 0;\n  events.forEach(ev => {\n    const sh = ev.start.getHours();\n    const sm = ev.start.getMinutes();\n    const eh = ev.end.getHours();\n    const em = ev.end.getMinutes();\n    if (sh < minHour || sh === minHour && sm < minMinute) {\n      minHour = sh;\n      minMinute = sm;\n    }\n    if (eh > maxHour || eh === maxHour && em > maxMinute) {\n      maxHour = eh;\n      maxMinute = em;\n    }\n  });\n  return {\n    min: new Date(1970, 1, 1, minHour, minMinute),\n    max: new Date(1970, 1, 1, maxHour, maxMinute)\n  };\n}\nfunction Timetable({\n  schedules\n}) {\n  const events = makeEvents(schedules);\n  const {\n    min,\n    max\n  } = getMinMaxTime(events);\n  return /*#__PURE__*/_jsxDEV(Calendar, {\n    localizer: localizer,\n    events: events,\n    defaultView: \"week\",\n    views: [\"week\"],\n    step: 30,\n    timeslots: 1,\n    style: {\n      height: 700\n    },\n    min: min,\n    max: max,\n    eventPropGetter: event => {\n      // 수업/상담 색상 구분\n      let bg = event.resource.type === '수업' ? '#4e73df' : '#e74a3b';\n      return {\n        style: {\n          backgroundColor: bg,\n          color: 'white',\n          borderRadius: 6\n        }\n      };\n    },\n    messages: {\n      week: '주간',\n      day: '일간',\n      today: '오늘',\n      previous: '이전',\n      next: '다음'\n    },\n    culture: \"ko\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_c = Timetable;\nexport default Timetable;\nvar _c;\n$RefreshReg$(_c, \"Timetable\");","map":{"version":3,"names":["React","Calendar","momentLocalizer","addDays","parse","set","ko","jsxDEV","_jsxDEV","dayMap","parseTime","timeStr","hour","minute","split","map","Number","makeEvents","schedules","now","Date","monday","hours","minutes","seconds","milliseconds","setDate","getDate","getDay","item","dayNum","day_of_week","start","sh","sm","start_time","setHours","end","eh","em","end_time","title","type","student","name","resource","allDay","localizer","require","getMinMaxTime","events","length","min","max","minHour","minMinute","maxHour","maxMinute","forEach","ev","getHours","getMinutes","Timetable","defaultView","views","step","timeslots","style","height","eventPropGetter","event","bg","backgroundColor","color","borderRadius","messages","week","day","today","previous","next","culture","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/커서/웹사이트/frontend/src/components/Timetable.js"],"sourcesContent":["import React from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport { addDays, parse, set } from 'date-fns';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { ko } from 'date-fns/locale';\n\n// 요일 한글 → 숫자 변환\nconst dayMap = {\n  '월요일': 1,\n  '화요일': 2,\n  '수요일': 3,\n  '목요일': 4,\n  '금요일': 5,\n  '토요일': 6,\n  '일요일': 0,\n};\n\nfunction parseTime(timeStr) {\n  // \"13:30\" → { hour: 13, minute: 30 }\n  const [hour, minute] = timeStr.split(\":\").map(Number);\n  return { hour, minute };\n}\n\nfunction makeEvents(schedules) {\n  // 이번 주 월요일 기준\n  const now = new Date();\n  const monday = set(now, { hours: 0, minutes: 0, seconds: 0, milliseconds: 0 });\n  monday.setDate(now.getDate() - ((now.getDay() + 6) % 7));\n\n  return schedules.map(item => {\n    const dayNum = dayMap[item.day_of_week];\n    const start = new Date(monday);\n    start.setDate(monday.getDate() + dayNum);\n    const { hour: sh, minute: sm } = parseTime(item.start_time);\n    start.setHours(sh, sm, 0, 0);\n    const end = new Date(monday);\n    end.setDate(monday.getDate() + dayNum);\n    const { hour: eh, minute: em } = parseTime(item.end_time);\n    end.setHours(eh, em, 0, 0);\n    return {\n      title: `${item.type} - ${item.student ? item.student.name : ''}`,\n      start,\n      end,\n      resource: item,\n      allDay: false,\n    };\n  });\n}\n\nconst localizer = momentLocalizer(require('moment'));\n\nfunction getMinMaxTime(events) {\n  if (events.length === 0) {\n    return {\n      min: new Date(1970, 1, 1, 8, 0),\n      max: new Date(1970, 1, 1, 23, 0),\n    };\n  }\n  let minHour = 23, minMinute = 59, maxHour = 0, maxMinute = 0;\n  events.forEach(ev => {\n    const sh = ev.start.getHours();\n    const sm = ev.start.getMinutes();\n    const eh = ev.end.getHours();\n    const em = ev.end.getMinutes();\n    if (sh < minHour || (sh === minHour && sm < minMinute)) {\n      minHour = sh; minMinute = sm;\n    }\n    if (eh > maxHour || (eh === maxHour && em > maxMinute)) {\n      maxHour = eh; maxMinute = em;\n    }\n  });\n  return {\n    min: new Date(1970, 1, 1, minHour, minMinute),\n    max: new Date(1970, 1, 1, maxHour, maxMinute),\n  };\n}\n\nfunction Timetable({ schedules }) {\n  const events = makeEvents(schedules);\n  const { min, max } = getMinMaxTime(events);\n  return (\n    <Calendar\n      localizer={localizer}\n      events={events}\n      defaultView=\"week\"\n      views={[\"week\"]}\n      step={30}\n      timeslots={1}\n      style={{ height: 700 }}\n      min={min}\n      max={max}\n      eventPropGetter={event => {\n        // 수업/상담 색상 구분\n        let bg = event.resource.type === '수업' ? '#4e73df' : '#e74a3b';\n        return { style: { backgroundColor: bg, color: 'white', borderRadius: 6 } };\n      }}\n      messages={{\n        week: '주간',\n        day: '일간',\n        today: '오늘',\n        previous: '이전',\n        next: '다음',\n      }}\n      culture=\"ko\"\n    />\n  );\n}\n\nexport default Timetable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}